{
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -736,
        -48
      ],
      "id": "7d047811-9fd3-4901-a8f4-bce8f95f8200",
      "name": "START"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -384,
        -48
      ],
      "id": "9148e440-59fe-4eab-b2cc-20dbec7d7d6c",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "BQu7fXvxcZR1av6F",
          "mode": "list",
          "cachedResultUrl": "/workflow/BQu7fXvxcZR1av6F",
          "cachedResultName": "@DOWNLOAD_THUMBNAIL"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "VIDEO_ID": "={{ $json.videoId }}"
          },
          "matchingColumns": [
            "VIDEO_ID"
          ],
          "schema": [
            {
              "id": "VIDEO_ID",
              "displayName": "VIDEO_ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        -160,
        -32
      ],
      "id": "7b13fc1d-7610-4844-9aff-2e6a7a11eca6",
      "name": "Download Thumbnail"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "UjPnRRupZJq5pbs0",
          "mode": "list",
          "cachedResultUrl": "/workflow/UjPnRRupZJq5pbs0",
          "cachedResultName": "@DOWNLOAD_YOUTUBE"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "VIDEO_ID": "={{ $json.videoId }}"
          },
          "matchingColumns": [
            "VIDEO_ID"
          ],
          "schema": [
            {
              "id": "VIDEO_ID",
              "displayName": "VIDEO_ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        -160,
        -208
      ],
      "id": "82e27bc0-7bf4-4069-aaa0-5adfe4333a35",
      "name": "Download Video"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "sk6qHDqmsTEMLNsp",
          "mode": "list",
          "cachedResultUrl": "/workflow/sk6qHDqmsTEMLNsp",
          "cachedResultName": "@AUDIO_EXTRACTOR"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "VIDEO_ID": "={{ $json.videoId }}"
          },
          "matchingColumns": [
            "VIDEO_ID"
          ],
          "schema": [
            {
              "id": "VIDEO_ID",
              "displayName": "VIDEO_ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        -160,
        160
      ],
      "id": "66162901-955f-4d49-8d88-bb4bd3c15371",
      "name": "Extract Audio"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -160,
        -368
      ],
      "id": "dfdfd3c8-9d8b-4693-aa90-597cd3d2c927",
      "name": "DONE"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "1nQSE6xkyPf6lCyw",
          "mode": "list",
          "cachedResultUrl": "/workflow/1nQSE6xkyPf6lCyw",
          "cachedResultName": "@SILENCE_DETECTOR"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "FILE_PATH": "=/home/node/download/{{ $('Loop Over Items').item.json.videoId }}/{{ $('Loop Over Items').item.json.videoId }}.mp4"
          },
          "matchingColumns": [
            "FILE_PATH"
          ],
          "schema": [
            {
              "id": "FILE_PATH",
              "displayName": "FILE_PATH",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        32,
        160
      ],
      "id": "96ffe14f-94ae-4438-89e3-bc164abb68c0",
      "name": "Silence Detector"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "b4Vww96hTTVhZRYC",
          "mode": "list",
          "cachedResultUrl": "/workflow/b4Vww96hTTVhZRYC",
          "cachedResultName": "@SILENCE_REMOVER"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "periods": "={{ $json.periods }}",
            "videoId": "={{ $('Loop Over Items').item.json.videoId }}"
          },
          "matchingColumns": [
            "periods",
            "videoId"
          ],
          "schema": [
            {
              "id": "videoId",
              "displayName": "videoId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "periods",
              "displayName": "periods",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "array",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        224,
        160
      ],
      "name": "Silence Remover",
      "id": "5ff848e2-410b-452c-a14c-122a70b37cba"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "ee2vyA9GjQWfLSET",
          "mode": "list",
          "cachedResultUrl": "/workflow/ee2vyA9GjQWfLSET",
          "cachedResultName": "@LIST_VIDEOS_YOUTUBE"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "MIN_DURATION": "182",
            "MAX_DURATION": "1800",
            "LAST_N_HOURS": "24",
            "CHANNEL_ID": "UCLTWPE7XrHEe8m_xAmNbQ-Q"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "CHANNEL_ID",
              "displayName": "CHANNEL_ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "LAST_N_HOURS",
              "displayName": "LAST_N_HOURS",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "MIN_DURATION",
              "displayName": "MIN_DURATION",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "MAX_DURATION",
              "displayName": "MAX_DURATION",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        -576,
        -48
      ],
      "id": "33a9404c-f8fe-416e-828a-9f46171c368e",
      "name": "Find New Videos"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "amcgAf3oG1ZjUeER",
          "mode": "list",
          "cachedResultUrl": "/workflow/amcgAf3oG1ZjUeER",
          "cachedResultName": "@AUDIO_TO_WHISPER_LOCAL"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "videoId": "={{ $('Loop Over Items').item.json.videoId }}"
          },
          "matchingColumns": [
            "videoId"
          ],
          "schema": [
            {
              "id": "videoId",
              "displayName": "videoId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        416,
        160
      ],
      "id": "0a378c61-29eb-4069-9d71-90080e6aee45",
      "name": "AUDIO_TO_WHISPER_LOCAL"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "MCYYlNNL6g7GjhbF",
          "mode": "list",
          "cachedResultUrl": "/workflow/MCYYlNNL6g7GjhbF",
          "cachedResultName": "@PROCESS_LONG_VIDEOS"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "RESPONSE": "={{ $json.RESPONSE }}",
            "videoId": "={{ $('Loop Over Items').item.json.videoId }}"
          },
          "matchingColumns": [
            "RESPONSE",
            "videoId"
          ],
          "schema": [
            {
              "id": "RESPONSE",
              "displayName": "RESPONSE",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "videoId",
              "displayName": "videoId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        656,
        288
      ],
      "name": "@PROCESS_LONG_VIDEOS",
      "id": "11bbc88c-0d53-4d17-a772-69a594f6f088"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "969lz3HdNKI9OD7G",
          "mode": "list",
          "cachedResultUrl": "/workflow/969lz3HdNKI9OD7G",
          "cachedResultName": "@PROCESS_SHORTS"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "videoId": "={{ $('Loop Over Items').item.json.videoId }}",
            "RESPONSE": "={{ $json.RESPONSE }}"
          },
          "matchingColumns": [
            "videoId",
            "RESPONSE"
          ],
          "schema": [
            {
              "id": "videoId",
              "displayName": "videoId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "RESPONSE",
              "displayName": "RESPONSE",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        656,
        48
      ],
      "name": "@PROCESS_SHORTS_VIDEOS",
      "id": "0305fba0-7e00-4b8d-bb86-8ba3f514fcd6"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        880,
        176
      ],
      "id": "af707433-4825-4022-b9be-5f5f607b8b55",
      "name": "Merge"
    },
    {
      "parameters": {
        "command": "/bin/bash -lc 'find /home/node/processing -maxdepth 1 -type f -name \"*.mp4\" ! -name \"READY_TO_UPLOAD*.mp4\" -delete'"
      },
      "type": "n8n-nodes-base.executeCommand",
      "typeVersion": 1,
      "position": [
        1056,
        176
      ],
      "id": "6e630050-53f2-4522-a064-d12b9a56499c",
      "name": "Remover Temporary Files"
    }
  ],
  "connections": {
    "START": {
      "main": [
        [
          {
            "node": "Find New Videos",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [
          {
            "node": "DONE",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Download Video",
            "type": "main",
            "index": 0
          },
          {
            "node": "Download Thumbnail",
            "type": "main",
            "index": 0
          },
          {
            "node": "Extract Audio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Thumbnail": {
      "main": [
        []
      ]
    },
    "Download Video": {
      "main": [
        []
      ]
    },
    "Extract Audio": {
      "main": [
        [
          {
            "node": "Silence Detector",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Silence Detector": {
      "main": [
        [
          {
            "node": "Silence Remover",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Silence Remover": {
      "main": [
        [
          {
            "node": "AUDIO_TO_WHISPER_LOCAL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Find New Videos": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AUDIO_TO_WHISPER_LOCAL": {
      "main": [
        [
          {
            "node": "@PROCESS_LONG_VIDEOS",
            "type": "main",
            "index": 0
          },
          {
            "node": "@PROCESS_SHORTS_VIDEOS",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "@PROCESS_LONG_VIDEOS": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "@PROCESS_SHORTS_VIDEOS": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Remover Temporary Files",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {
    "Find New Videos": [
      {
        "id": "video:UCLTWPE7XrHEe8m_xAmNbQ-Q_UZKSdzKW_JI",
        "title": "NOVELA do SITE tem MAIS UM CAPÍTULO: SITE voltou em INFRA 100% BRAZUCA, mas... SUSCETÍVEL a DDOS",
        "duration": "8:12",
        "durationSeconds": 492,
        "publishedAt": "2025-09-30 16:43:38",
        "publishedAtISO": "2025-09-30T16:43:38Z",
        "publishedAtEpoch": 1759250618,
        "url": "https://www.youtube.com/watch?v=UZKSdzKW_JI",
        "channelId": "UCLTWPE7XrHEe8m_xAmNbQ-Q",
        "videoId": "UZKSdzKW_JI",
        "processed": false
      },
      {
        "id": "video:UCLTWPE7XrHEe8m_xAmNbQ-Q_TBvmFpv8thI",
        "title": "XI JINPING desafia TRUMP e anuncia o \"VISTO K\" para a CHINA COMPETIR com o \"VISTO H1B\" AMERICANO",
        "duration": "15:06",
        "durationSeconds": 906,
        "publishedAt": "2025-09-30 13:15:04",
        "publishedAtISO": "2025-09-30T13:15:04Z",
        "publishedAtEpoch": 1759238104,
        "url": "https://www.youtube.com/watch?v=TBvmFpv8thI",
        "channelId": "UCLTWPE7XrHEe8m_xAmNbQ-Q",
        "videoId": "TBvmFpv8thI",
        "processed": false
      },
      {
        "id": "video:UCLTWPE7XrHEe8m_xAmNbQ-Q_46iHb_1kqzc",
        "title": "INTOXICAÇÃO por METANOL MATA pessoas em SÃO PAULO: PCC pode ser o CULPADO pela TRAGÉDIA?",
        "duration": "8:52",
        "durationSeconds": 532,
        "publishedAt": "2025-09-30 09:24:03",
        "publishedAtISO": "2025-09-30T09:24:03Z",
        "publishedAtEpoch": 1759224243,
        "url": "https://www.youtube.com/watch?v=46iHb_1kqzc",
        "channelId": "UCLTWPE7XrHEe8m_xAmNbQ-Q",
        "videoId": "46iHb_1kqzc",
        "processed": false
      },
      {
        "id": "video:UCLTWPE7XrHEe8m_xAmNbQ-Q_o7OAV4RmwDA",
        "title": "BUROCRATA da ANATEL quer ir para a ONU para IMPEDIR BRASILEIROS de TEREM BONS serviços da STARLINK",
        "duration": "15:43",
        "durationSeconds": 943,
        "publishedAt": "2025-09-30 02:09:59",
        "publishedAtISO": "2025-09-30T02:09:59Z",
        "publishedAtEpoch": 1759198199,
        "url": "https://www.youtube.com/watch?v=o7OAV4RmwDA",
        "channelId": "UCLTWPE7XrHEe8m_xAmNbQ-Q",
        "videoId": "o7OAV4RmwDA",
        "processed": false
      },
      {
        "id": "video:UCLTWPE7XrHEe8m_xAmNbQ-Q_zgziK2NDiFg",
        "title": "TARCÍSIO se ENCONTRA com BOLSONARO e diz que TUDO DEPENDE do PROJETO da ANISTIA",
        "duration": "8:34",
        "durationSeconds": 514,
        "publishedAt": "2025-09-29 23:31:21",
        "publishedAtISO": "2025-09-29T23:31:21Z",
        "publishedAtEpoch": 1759188681,
        "url": "https://www.youtube.com/watch?v=zgziK2NDiFg",
        "channelId": "UCLTWPE7XrHEe8m_xAmNbQ-Q",
        "videoId": "zgziK2NDiFg",
        "processed": false
      },
      {
        "id": "video:UCLTWPE7XrHEe8m_xAmNbQ-Q_HxG8uMeeUTg",
        "title": "LULA se ESCONDE ATRÁS de ALCKMIN com MEDO do TRUMP: \"NÃO sabemos QUANDO nem COMO SERÁ o ENCONTRO\"",
        "duration": "7:20",
        "durationSeconds": 440,
        "publishedAt": "2025-09-29 22:15:01",
        "publishedAtISO": "2025-09-29T22:15:01Z",
        "publishedAtEpoch": 1759184101,
        "url": "https://www.youtube.com/watch?v=HxG8uMeeUTg",
        "channelId": "UCLTWPE7XrHEe8m_xAmNbQ-Q",
        "videoId": "HxG8uMeeUTg",
        "processed": false
      },
      {
        "id": "video:UCLTWPE7XrHEe8m_xAmNbQ-Q_5nYqHLkfLpw",
        "title": "ALEXANDRE de MORAES autoriza PROGRESSÃO para REGIME ABERTO para DANIEL SILVEIRA, mas VAI FICAR?",
        "duration": "8:32",
        "durationSeconds": 512,
        "publishedAt": "2025-09-29 20:15:00",
        "publishedAtISO": "2025-09-29T20:15:00Z",
        "publishedAtEpoch": 1759176900,
        "url": "https://www.youtube.com/watch?v=5nYqHLkfLpw",
        "channelId": "UCLTWPE7XrHEe8m_xAmNbQ-Q",
        "videoId": "5nYqHLkfLpw",
        "processed": false
      },
      {
        "id": "video:UCLTWPE7XrHEe8m_xAmNbQ-Q_01xEszS5dO4",
        "title": "DE NOVO: CLOUDFLARE derruba SITE do ESCRITÓRIO do XANDÃO, MICROSOFT não é mais FORNECEDORA de EMAIL",
        "duration": "12:08",
        "durationSeconds": 728,
        "publishedAt": "2025-09-29 19:15:00",
        "publishedAtISO": "2025-09-29T19:15:00Z",
        "publishedAtEpoch": 1759173300,
        "url": "https://www.youtube.com/watch?v=01xEszS5dO4",
        "channelId": "UCLTWPE7XrHEe8m_xAmNbQ-Q",
        "videoId": "01xEszS5dO4",
        "processed": false
      },
      {
        "id": "video:UCLTWPE7XrHEe8m_xAmNbQ-Q_XfvKndOAciQ",
        "title": "HADDAD faz PRIMEIRO ARGUMENTO RAZOÁVEL na VIDA DELE: QUER o FIM da ESTABILIDADE de SERVIDOR PÚBLICO",
        "duration": "13:56",
        "durationSeconds": 836,
        "publishedAt": "2025-09-29 18:15:02",
        "publishedAtISO": "2025-09-29T18:15:02Z",
        "publishedAtEpoch": 1759169702,
        "url": "https://www.youtube.com/watch?v=XfvKndOAciQ",
        "channelId": "UCLTWPE7XrHEe8m_xAmNbQ-Q",
        "videoId": "XfvKndOAciQ",
        "processed": false
      }
    ]
  },
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "c5b0b17754dd8875e0a1c41ee11cdaba0d71678620daa90e860fc2877504e04a"
  }
}